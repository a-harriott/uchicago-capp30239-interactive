<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ally's Interactive Project</title>

    <!-- MapLibre GL css -->
    <link href="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.css" rel="stylesheet" />

    <!-- My stylesheet -->
    <link rel="stylesheet" href="stylesheets/custom.css" />
</head>

<body>
    
    <header>
        <h1>Investigating Key Metrics of New York State School Districts</h1>
        <p>by Alexandrea Harriott</p>
    </header>

    <div class="explanation">
        <p>
            Education is one of the most powerful forces shaping opportunity, equity, and community well‑being. Yet the resources available to schools, the outcomes they achieve, and the conditions in which teachers and students work vary widely across districts. Understanding these differences is essential for anyone interested in how funding, staffing, and student success intersect across New York State. This project provides an interactive way to explore those dynamics, focusing on four key metrics: 
            <strong>graduation rate</strong>, 
            <strong>total revenue per pupil</strong>, 
            <strong>total expenditure per pupil</strong>, and 
            <strong>pupil‑to‑teacher ratio</strong>.
            <br><br>
            Use the map to view statewide patterns or zoom in on a specific district to see how these metrics compare locally. Hover over districts to reveal detailed values, click on a district to add it to the table for comparison across different districts, and watch the line chart update with information about the school district you clicked on to show trends over time and compare with the state average. By moving between the statewide view and individual districts, you can uncover how resources and outcomes differ across communities and how those differences evolve year by year.
        </p>
    </div>

    <main class="app">

        <div class="toolbar">

            <label for="metric">Metric</label>
            <select id="metric">
                <option value="pupil_teacher" selected>Pupil per Teacher Ratio</option>
                <option value="revenue_pupil">Total Revenue per Pupil</option>
                <option value="expenditure_pupil">Total Expenditure per Pupil</option>
                <option value="grad_rate">Graduation Rate</option>
            </select>

            <label for="year">Year</label>
            <select id="year">
                <option value="2021-22">2021-22</option>
                <option value="2020-21">2020-21</option>
                <option value="2019-20">2019-20</option>
                <option value="2018-19">2018-19</option>
                <option value="2017-18">2017-18</option>
                <option value="2016-17">2016-17</option>
                <option value="2015-16">2015-16</option>
                <option value="2014-15">2014-15</option>
                <option value="2013-14">2013-14</option>
                <option value="2012-13">2012-13</option>
                <option value="2011-12">2011-12</option>
            </select>
        </div>

        <div class="map-table-grid">
            
            <div class="map-column">
                <div id="map"></div>

                <div id="map-legend" class="map-legend-panel"></div>
            </div>

            <div class="table-panel">

                <div class="table-header">
                    <h3 id="table-title">School Districts</h3>
                    <div class="legend" id="legend"></div>
                </div>

                <!-- Scrollable table wrapper -->
                <div style="overflow:auto;">

                    <table id="data-table">
                        <thead>
                            <tr>
                                <th>School District</th>
                                <th>Year</th>
                                <th>Value</th>
                            </tr>
                        </thead>

                        <tbody></tbody>

                    </table>

                </div>
            </div>
        </div>

        <!-- Line chart -->
        <div class="chart-panel">
            <div class="chart-header">
                <h3 id="chart-title">Trend Over Time</h3>
            </div>
            <div id="linechart"></div>
        </div>
    </main>

    <div class="explanation">
        <h2 style="margin-bottom: 0px">Data Sources</h2>
        <ul style="margin-top: 5px">
            <li>
            <a href="https://nces.ed.gov/ccd/elsi/tableGenerator.aspx" target="_blank">
                National Center for Education Statistics (NCES) Table Generator
            </a> – provides school finance and demographic data at the district level.
            </li>
            <li>
            <a href="https://data.nysed.gov/downloads.php" target="_blank">
                New York State Education Department (NYSED)
            </a> – offers detailed metrics on graduation rates, revenue, expenditure, and staffing.
            </li>
            <li>
            <a href="https://data.gis.ny.gov/datasets/sharegisny::school-districts/explore" target="_blank">
                New York State School District Shapefiles
            </a> – supplies geographic boundaries for mapping districts across the state.
            </li>
        </ul>
    </div>

    <!-- Load MapLibre GL -->
    <script src="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.js"></script>

    <!-- Load D3 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <!-- Load script that produces visualizations -->
    <script src="script.js"></script>

    <footer class="page-footer"></footer>

</body>
</html>
